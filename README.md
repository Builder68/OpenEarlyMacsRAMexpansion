# OpenEarlyMacsRAMexpansion

SUMMARY

Unlike the Macintosh Plus, which offers a simple SIMM-based memory upgrade, expanding the memory of these early Macs is significantly more complex and requires additional components.
Back in the day, RAM expansion boards were available to increase the memory of early Macs. However, finding these boards in working condition has become increasingly challenging and expensive. The Mac Rescue boards, with an expansion RAM of 4MB, are particularly rare.
This newly designed expansion board, paired with an auxiliary board I called "RAM Configurator", provides a flexible and customizable solution to increase memory up to 4MB. The circuitry is largely based on the Macsnap 548E board from DOVE Inc. With a few modifications and enhancements, 4MB RAM is easily achievable using newer, higher-density DRAM FP ICs of 256Kb x 16 bits (512KB per IC).

![Screenshot 2024-10-22 at 3 00 07 PM](https://github.com/user-attachments/assets/0927eb3d-6c0c-4479-a216-cbbe3e41b88d)
![Screenshot 2024-10-22 at 6 50 35 PM](https://github.com/user-attachments/assets/46a6b025-a1a6-4c5b-a361-0ad218c6825e)

The expansion board has been tested only with 128K MacPlus / 512Ke ROMs. If a ROM-INATOR board is installed concurrently, it needs to be previously patched (instructions provided below).


KEY FEATURES

•	Configurable to add up to 4MB of RAM, the maximum supported by early Macs.

•	Compatible with Macintosh 128K, 512K, and 512KE models (using Apple 128K ROM or ROM-INATOR).

•	Option to include or exclude onboard RAM bank for 512K/512KE models through a DIP switch (Version 3).

•	Soldered type jumpers to select among various memory configurations (1MB, 2MB, or 4MB).

•	Auxiliary board can be set to restore original configuration and disable the expansion board through a DIP switch (Version 3 only).

•	Auxiliary board allows customization of the number of refresh cycles (standard, Mac Plus-style, or 1024 refresh cycles).

•	No extensions or other software are required, and the Mac recognizes all the configured RAM at startup.


INSTALLATION

Two options are available for installing these boards:

•	Soldering piggyback sockets
  
This is the easiest method and can be reversed. Solder DIP sockets onto specific ICs (U5-11F, U5-11G, U12E, U13E, and U4F for the auxiliary board) on the logic board. Then, the boards connect through male pin headers to these sockets.

• Relocating ICs to the expansion boards

Alternatively, relocate those ICs to the expansion boards and install pin header sockets (machine round type preferably) directly onto the logic board to make the connection.

Additionally, resistor arrays RP2 and RP3 must be removed from the logic board, and at least 4 to 6 signals (standard mode, depending the Mac model is 512 or 128) need to be collected through cables soldered to specific points on the logic board and brought to the expansion board using DIP connectors.


AUXILIARY BOARD / RAM CONFIGURATOR

This versatile small board offers several handy features:

•	Intervene /CAS signals, handle RAM address bus and select between 3 refresh cycles modes: Standard, Mac Plus, 1024 cycles (experimental). 

•	Disable the RAM expansion board trough a DIP switch, allowing to remove the board and restore the memory stock configuration.


HANDLING OF THE ONBOARD MEMORY BANK

The onboard memory bank consists of 16 ICs of either 256Kbitx1bit (Macintosh 512K/KE) or 64Kbitx1bit (Macintosh 128K). 
The expansion board has a DIP switch that enables the option to include or exclude the this memory bank withing the 4MB of RAM. 
On Mac 128K, the system memory bank must always be excluded. On Mac 512K/KE, it's optional. 
Excluding the aging onboard memory bank may reduce overall energy consumption and heat generated by the logic board.


STANDARD REFRESH CYCLES MODE

The standard refresh mode is the stock method used by the Mac 128/512/KE to generate DRAM refresh cycles.
Although the system memory ICs are 256 cycles/4ms, the ICs used in this RAM expansion board (AS4C1256KFO / 512 refresh cycles / 8ms), work perfectly!.
Somehow, these ICs are correctly refreshed within 8 ms in all their address range, making them compatible with the system refresh circuitry. This mode has been used in the expansion board prototype installed on my Macintosh 512K for a significant time without any issues.
Using the default refresh mode requires fewer signals from the logic board, reducing the number of components needed in the auxiliary board. (U1, U2, and U3 can be omitted.)

To implement the standard refresh mode for the memory expansion board on a Mac 128K, just 6 signals need to be pick-up from the LB and connected to the expansion board (J5) :

1.	/RAS - Left Leg of R42

2.	/A19  - Pin #3 TSG  (D3)

3.	/A20  - Pin #5 LS04 (D4)

4.	/A17  - Pin #45 (CPU)

5.	/A18 - Pin #46 (CPU)

6.	/A21 – Pin #50 (CPU)

Another 4 signals are collected directly by the auxiliary board and routed trough J3 to J5, which are from bottom to top on J3:

-	/CAS1

-	/CAS0

-	VID\u

-	C2M

To implement the standard refresh mode on a Mac 512K/KE, signals 4 (A17), and 5 (A18) can be omitted and leave disconnected.

![LB_512K_scaled copy](https://github.com/user-attachments/assets/7516653b-66f9-4f18-a7ac-8dcdc91c0549)


MACPLUS REFRESH CYCLES MODE

As the name suggests, this mode replicates how the Mac Plus generates RAM addresses for refresh cycles. The RAM Configurator or auxiliary boards implement the circuit logic of the Mac Plus to emulate this behavior.
A few several input signals pickup trough cables soldered to specific points on the LB are needed for this mode, fortunately some of them have been already pickup on the expansion board, so to avoid soldering on the LB, you could take those repeated signals directly from the pins on J5 accordinly 

 7. A19 - PIN #8 - J5 - EXPANSION BOARD 
 8. A20 - PIN #7 - J5 - EXPANSION BOARD 
 9. A17 - PIN #3 - J5 - EXPANSION BOARD or Pin #45 (CPU)
10. VA5 - PIN #3 - (U2F)
11. A18 - PIN #2 - J5 - EXPANSION BOARD or PIN #46 (CPU)
12. VA13 -
